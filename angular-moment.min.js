angular.module("angularMoment",[]).constant("amTimeAgoConfig",{withoutSuffix:!1}).directive("amTimeAgo",["$window","$timeout","amTimeAgoConfig",function(a,b,c){"use strict";return function(d,e,f){function g(){l&&(b.cancel(l),l=null)}function h(d){e.text(d.fromNow(c.withoutSuffix));var f=a.moment().diff(d,"minute"),g=3600;1>f?g=1:60>f?g=30:180>f&&(g=300),l=b(function(){h(d)},1e3*g,!1)}function i(){g(),h(a.moment(j,k))}var j,k,l=null;d.$watch(f.amTimeAgo,function(a){return"undefined"==typeof a||null===a||""===a?(g(),j&&(e.text(""),j=null),void 0):(angular.isNumber(a)&&(a=new Date(a)),j=a,i(),void 0)}),f.$observe("amFormat",function(a){k=a,j&&i()}),d.$on("$destroy",function(){g()})}}]).filter("amDateFormat",["$window",function(a){"use strict";return function(b,c){return"undefined"==typeof b||null===b?"":(!isNaN(parseFloat(b))&&isFinite(b)&&(b=new Date(parseInt(b,10))),a.moment(b).format(c))}}]);