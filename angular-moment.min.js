angular.module("angularMoment",[]).directive("amTimeAgo",["$window","$timeout",function(a,b){"use strict";return function(c,d,e){function f(){h&&(b.cancel(h),h=null)}function g(c){d.text(c.fromNow());var e=a.moment().diff(c,"minute"),f=3600;1>e?f=1:60>e?f=30:180>e&&(f=300),h=b(function(){g(c)},1e3*f,!1)}var h=null;c.$watch(e.amTimeAgo,function(b){"undefined"!=typeof b&&null!==b&&(angular.isNumber(b)&&(b=new Date(b)),f(),g(a.moment(b)))}),c.$on("$destroy",function(){f()})}}]);