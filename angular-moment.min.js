angular.module("angularMoment",[]).directive("amTimeAgo",["$timeout",function(a){"use strict";return function(b,c,d){function e(b){c.text(b.fromNow());var d=moment().diff(b,"minute"),g=3600;1>d?g=1:60>d?g=30:180>d&&(g=300),f=a(function(){e(b)},1e3*g)}var f=null;b.$watch(d.amTimeAgo,function(b){if(angular.isNumber(b))b=new Date(b);else if(angular.isString(b)){var c=b.toString().split(/[- :]/);b=new Date(c[0],c[1]-1,c[2],c[3],c[4],c[5])}f&&(a.cancel(f),f=null),e(moment(b))})}}]);